(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/buylist/buylist"],{2535:function(t,e,r){},"384b":function(t,e,r){"use strict";(function(t){r("32e7");o(r("66fd"));var e=o(r("eeed"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("543d")["createPage"])},"3ad6":function(t,e,r){"use strict";var o=r("2535"),n=r.n(o);n.a},7795:function(t,e,r){"use strict";r.r(e);var o=r("878d"),n=r.n(o);for(var a in o)"default"!==a&&function(t){r.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},"878d":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r("2f62");function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={data:function(){var t;return t={cartFoodList:{},cartNum:null,totalPrice:null},i(t,"cartNum",null),i(t,"cartId",null),t},onLoad:function(e){e.cartFoodList;this.user_id=t.getStorageSync("user_id"),this.initData()},methods:a(a({},(0,o.mapMutations)(["clearCart"])),{},{initData:function(){var t=this,e=this.user_id;this.totalPrice=0,this.$api.commonCloud("getCart",{user_id:e}).then((function(e){t.cartFoodList=e.data[0].cart_infor,console.log("cartFoodList",e.data[0].cart_infor),t.cartId=e.data[0]._id,Object.keys(t.cartFoodList).forEach((function(e){var r=t.cartFoodList[e];console.log(r.food_name),t.totalPrice+=r.food_price*r.food_num,t.cartNum+=r.food_num}))}))},onSubmit:function(e){var r=this,o=e.target.value.address,n=e.target.value.phone,a=e.target.value.username,i=this.cartFoodList,c=this.cartNum,u=this.totalPrice,s=this.user_id;this.cartId;""!=o&&""!=n&&""!=a?this.$api.commonCloud("getOrder",{user_id:s,order_phone:n,order_username:a,order_address:o,order_infor:i,order_num:c,order_total:u}).then((function(e){console.log(e);var o=e.id;r.clearCart(),r.$api.commonCloud("removeCart",{user_id:s}).then((function(t){console.log(t)})),t.redirectTo({url:"/pages/orderstatus/orderstatus?id=".concat(o)})})):t.showToast({title:"不能为空!",duration:2e3})}})};e.default=c}).call(this,r("543d")["default"])},b38b:function(t,e,r){"use strict";var o;r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement;t._self._c},a=[]},eeed:function(t,e,r){"use strict";r.r(e);var o=r("b38b"),n=r("7795");for(var a in n)"default"!==a&&function(t){r.d(e,t,(function(){return n[t]}))}(a);r("3ad6");var i,c=r("f0c5"),u=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"a13d5c0e",null,!1,o["a"],i);e["default"]=u.exports}},[["384b","common/runtime","common/vendor"]]]);