{"version":3,"sources":["uni-app:///main.js","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?c1f3","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?1bf1","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?03b4","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?78c5","uni-app:///pages/buylist/buylist.vue","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?94f5","webpack:////Users/ding/Documents/HBuilderProjects/The-baskey-miniprogram/pages/buylist/buylist.vue?7158"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAq0B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4Cz1B,gD;AACA;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA,mBAFA;AAGA,sBAHA;AAIA,QAJA;AAKA,QALA;;AAOA,GATA;AAUA,QAVA,oBAUA;AACA;AACA;AACA,GAbA;AAcA;AACA,wCADA;AAEA,YAFA,sBAEA;AACA;AACA;AACA;AACA,wBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAZA;AAaA,KAlBA;AAmBA,YAnBA,oBAmBA,CAnBA,EAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,kCAFA;AAGA,wCAHA;AAIA,sCAJA;AAKA,kCALA;AAMA,8BANA;AAOA,kCAPA;AAQA,YARA,CAQA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,cAFA,CAEA;AACA;AACA,WAJA;AAKA;AACA,gEADA;;AAGA,SApBA;AAqBA,OAtBA,MAsBA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA,KAzDA,GAdA,E;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAA0sC,CAAgB,0nCAAG,EAAC,C;;;;;;;;;;;ACA9tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/buylist/buylist.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/buylist/buylist.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./buylist.vue?vue&type=template&id=73ddb550&scoped=true&\"\nvar renderjs\nimport script from \"./buylist.vue?vue&type=script&lang=js&\"\nexport * from \"./buylist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./buylist.vue?vue&type=style&index=0&id=73ddb550&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73ddb550\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/buylist/buylist.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buylist.vue?vue&type=template&id=73ddb550&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buylist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buylist.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"buylist\">\n    <form class=\"buylist_container\" @submit=\"onSubmit\" >\n      <view class=\"user_infor\">\n        <view class=\"user_name\">\n          <text>联系人</text>\n          <input type=\"text\" value=\"\" name=\"username\"  placeholder=\"请输入联系人\" /> \n        </view>     \n        <view class=\"user_address\">\n          <text>送货地址</text>\n          <input name=\"address\" type=\"text\" value=\"\" placeholder=\"请输入地址\"/>          \n        </view>\n        <view class=\"user_phone\">\n          <text>联系电话</text> \n          <input type=\"number\" value=\"\" name=\"phone\"  placeholder=\"请输入联系电话\" /> \n        </view>  \n      </view>\n\t\t<view class=\"addCart_container\" >\n      <view class=\"cart_title\">食材详情</view>\n      <view class=\"cart_main\" v-for=\"(item,index) in cartFoodList\" :key=\"index\" v-if=\"item.food_num>0\">\n        <view class=\"main_left\">\n        <text>{{item.food_name}}</text>          \n        </view>\n        <view class=\"main_right\">\n         <text>x{{item.food_num}}</text>\n         <text>{{item.food_price}}</text>          \n        </view>\n      </view>\n      <view class=\"cart_pay\">\n        <text>合计</text>\n        <text>￥{{totalPrice}}</text>\n      </view>\n\t\t</view>\n    <view class=\"pay_container\">\n      <text class=\"pay_total\">￥{{totalPrice}}</text>   \n      <button type=\"primary\" class=\"pay\" form-type=\"submit\" >立即支付</button>\n    </view>\n \n     </form>\n     \n\t</view>\n</template>\n\n<script>\n  import {mapMutations} from 'vuex'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n        cartFoodList:{},\n        cartNum:null,\n        totalPrice:null,\n        cartNum:null,\n        cartId:null\n\t\t\t}\n\t\t},\n    onLoad(){\n      this.user_id = uni.getStorageSync('user_id')\n      this.initData()\n    },\n\t\tmethods: {\n      ...mapMutations(['clearCart']),\n      initData(){\n        let user_id = this.user_id\n        this.totalPrice = 0\n        this.$api.commonCloud('getCart',{\n          user_id:user_id\n        }).then(res=>{\n          this.cartFoodList = res.data[0].cart_infor\n          console.log('cartFoodList',res.data[0].cart_infor)\n          this.cartId = res.data[0]._id\n           Object.keys(this.cartFoodList).forEach(item=>{\n            let foodItem = this.cartFoodList[item]\n            console.log(foodItem.food_name)\n            this.totalPrice += foodItem.food_price * foodItem.food_num\n            this.cartNum += foodItem.food_num\n          })\n        })\n         },\n      onSubmit(e){\n        let order_address = e.target.value.address\n        let order_phone = e.target.value.phone\n        let order_username = e.target.value.username\n        let order_infor = this.cartFoodList\n        let order_num = this.cartNum\n        let order_total = this.totalPrice\n        let user_id = this.user_id\n        let cartId = this.cartId\n        var that = this\n        if(order_address !='' && order_phone !='' && order_username !=''){\n          this.$api.commonCloud('getOrder',{\n            user_id:user_id,\n            order_phone:order_phone,\n            order_username:order_username,\n            order_address:order_address,\n            order_infor:order_infor,\n            order_num:order_num,\n            order_total:order_total,\n          }).then(res=>{\n              console.log(res)\n              let id = res.id\n              this.clearCart()\n              this.$api.commonCloud('removeCart',{\n                user_id:user_id\n              }).then(res=>{\n                console.log(res)\n              })\n              uni.redirectTo({\n                url:`/pages/orderstatus/orderstatus?id=${id}`\n              })\n          })\n        }else{\n          uni.showToast({\n            title:\"不能为空!\",\n            icon:'none'\n          })\n        }\n      }\n      \n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style scoped>\n  page{\n    background-color: #f5f5f5;\n  }\n  .buylist_container{\n    margin: 15px;\n  }\n  .user_infor{\n    background-color: #fff;\n    margin:0px 10px;\n    border-radius: 10px;\n    padding: 0 10px;\n  }\n  .user_infor .user_phone,.user_address,.user_name{\n    display: flex;\n    align-items: center;\n    padding: 12px 5px;\n    border-bottom: 1px solid #F5F5F5;\n  }\n  .user_infor input{\n    margin-left: 10px;\n  }\n  .addCart_container{\n    background-color: #fff;\n    margin: 10px 10px 0px 10px;\n    border-radius: 10px;\n    padding: 0 10px;\n  }\n  .cart_title{\n    font-size: 14px;\n    font-weight: 600;\n    padding: 6px 0px;\n  }\n  .cart_main{\n    margin-bottom: 7px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .cart_pay{\n    margin-top: 10px;\n    float: right;\n  }\n  .cart_main .main_left{\n    flex: 2;\n  }\n  .cart_main .main_right{\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .pay_container{\n    margin-top: 10px;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    padding-bottom: 10px;\n  }\n  .pay_container .pay_total{\n    margin-left: 20px;\n  }\n  .pay_container .pay{\n    margin: 0;\n    margin-right: 20px;\n  }\n  .pay_container .pay_total{\n    color: red;\n    font-weight: 600;\n    font-size: 20px;\n  }\n  \n  \n\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buylist.vue?vue&type=style&index=0&id=73ddb550&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buylist.vue?vue&type=style&index=0&id=73ddb550&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641310165042\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}